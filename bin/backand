#!/usr/bin/env node
process.bin = process.title = 'backand';

"use strict";
var fs          = require('fs-extra');
var colors      = require('colors');
var options = require('minimist')(process.argv.slice(2));
var logger      = require('../lib/logger');
var commands    = require('../lib/commands/commands');
var command     = process.argv[2];
var ROOT        = __dirname + '/..';
var backandVersion = fs.readJSONSync(ROOT + '/package.json')['version'];

switch (command) {
  case 'version':
    console.log(backandVersion);
    break;
  case 'help':
    commands.help();
    break;
  case 'login':
    commands.login(options)
    break;
  case 'register':
    commands.register();
    break;
  case 'create':
    commands.create(options);
    break;
  case 'get':
    commands.get(options);
    break;
  case 'update':
    commands.update();
    break;
  case 'sync':
    commands.sync(options);
    break;
  case 'clean':
    commands.clean();
    break;
  default:
    if (command) {
      logger.warn("backand didn't recognize the ".yellow + command.blue + ' command. Run '.yellow + 'backand help'.blue + ' to see all available commands'.yellow)
    } else {
      logger.warn("You didn't specify any command");
    }
}
